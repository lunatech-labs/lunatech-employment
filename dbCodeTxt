create table candidate (
  candidate_id                BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
  firstName                   VARCHAR NOT NULL,
  lastName                    VARCHAR NOT NULL,
  maritialStatus              VARCHAR NOT NULL,
  dob                         DATE,
  nationality                 VARCHAR NOT NULL,
  currentCountry              VARCHAR NOT NULL,
  position                    VARCHAR NOT NULL,
  seniority                   VARCHAR NOT NULL,
  dateOfFirstApplication      DATE,
  desiredSalary               DOUBLE,
  cv                          VARCHAR NOT NULL,
  startDate                   DATE,
  office_id                   INT,
  constraint pk_candidate primary key (candidate_id)
);

create table education (

education_id                BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
yearsofexperience           DATE,
degree                      VARCHAR NOT NULL,
certifications              VARCHAR NOT NULL,
spokenLanguages             VARCHAR NOT NULL,
candidate_id                BIGINT
);

create table contactdetails (

contact_id                BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
phoneNumber               VARCHAR NOT NULL,
email                     VARCHAR NOT NULL,
candidate_id              BIGINT
);

create table skill (
skill_id                BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
skillname               VARCHAR NOT NULL,
skilllevel              VARCHAR NOT NULL
);

create table interviewType(
interviewType_id BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
label VARCHAR NOT NULL
);

create table interview (
interview_id            BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
completed               BOOLEAN,
resultOfInterview       VARCHAR NOT NULL,
notes                   VARCHAR NOT NULL,
candidate_id            BIGINT,
interviewType_id        BIGINT
);

alter table candidate add constraint fk_office_candidate_1 foreign key (office_id) references office (office_id) ON DELETE CASCADE ON UPDATE CASCADE;
alter table education add constraint fk_candidate_education_1 foreign key (candidate_id) references candidate (candidate_id) ON DELETE CASCADE ON UPDATE CASCADE;
alter table contactdetails add constraint fk_candidate_contactdetails_1 foreign key (candidate_id) references candidate (candidate_id) ON DELETE CASCADE ON UPDATE CASCADE;
alter table skill add constraint fk_candidate_skill_1 foreign key (candidate_id) references candidate (candidate_id) ON DELETE CASCADE ON UPDATE CASCADE;
alter table interview add constraint fk_candidate_interview_1 foreign key (candidate_id) references candidate (candidate_id) ON DELETE CASCADE ON UPDATE CASCADE;
alter table interviewType add constraint fk_office_interviewType_1 foreign key (office_id) references office (office_id) ON DELETE CASCADE ON UPDATE CASCADE;


# --- !Downs


drop table candidate;
drop table education;
drop table contactdetails;
drop table skills;
drop table interview;
drop table interviewType;